(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(28)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),i=n.n(c);n(14),n(15),n(16),n(17),n(18);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createElement("path",{id:"path-1_42_",d:"m148.781 261.84c8.253 11.004 8.253 28.844 0 39.847-8.253 11.004-21.633 11.004-29.886 0s-8.253-28.844 0-39.847 21.634-11.003 29.886 0",transform:"translate(3.927 8.902)"}),s=r.a.createElement("path",{id:"path-1_41_",d:"m331.929 261.84c8.253 11.004 8.253 28.844 0 39.847-8.253 11.004-21.633 11.004-29.886 0s-8.253-28.844 0-39.847 21.633-11.003 29.886 0",transform:"translate(10.427 8.902)"}),m=r.a.createElement("path",{d:"m436.735 394.47c-29.951 0-45.649 8.365-59.49 15.739-12.534 6.673-23.347 12.437-46.268 12.437s-33.735-5.765-46.241-12.437c-13.854-7.374-29.552-15.739-59.504-15.739-29.924 0-45.594 8.365-59.421 15.753-12.492 6.659-23.292 12.423-46.172 12.423-22.866 0-33.652-5.765-46.145-12.423-13.827-7.388-29.497-15.753-59.407-15.753-7.786 0-14.087 6.301-14.087 14.088s6.301 14.088 14.088 14.088c22.866 0 33.652 5.765 46.145 12.424 13.827 7.388 29.497 15.753 59.407 15.753 29.924 0 45.608-8.365 59.435-15.753 12.492-6.659 23.292-12.424 46.158-12.424 22.921 0 33.721 5.765 46.241 12.437 13.854 7.374 29.552 15.739 59.504 15.739 29.965 0 45.663-8.365 59.517-15.739 12.52-6.673 23.32-12.437 46.241-12.437 7.787 0 14.088-6.301 14.088-14.088s-6.302-14.088-14.089-14.088z"}),f=r.a.createElement("path",{d:"m47.751 370.917c10.289 3.078 18.377 7.194 25.745 11.13 2.36 1.257 4.669 2.428 6.999 3.589-10.086-42.932-36.6-127.883-48.604-165.714 76.77-22.316 180.134-50.795 193.52-50.864 13.387.069 116.751 28.548 193.52 50.864-11.997 37.811-38.492 122.692-48.588 165.645 2.296-1.145 4.575-2.296 6.901-3.534 7.386-3.935 15.502-8.054 25.831-11.13 10.46-38.528 28.962-99.608 47.073-156.167 1.156-3.605.812-7.539-.963-10.896-1.789-3.357-4.843-5.847-8.489-6.92-8.453-2.48-26.046-7.612-47.594-13.772h1.367v-112.706c0-7.787-6.301-14.088-14.088-14.088h-70.441v-42.265c0-7.787-6.301-14.088-14.088-14.088h-140.882c-7.787 0-14.088 6.301-14.088 14.088v42.265h-70.441c-7.787 0-14.088 6.301-14.088 14.088v112.706h1.367c-21.549 6.16-39.142 11.292-47.594 13.772-3.646 1.073-6.7 3.563-8.489 6.92-1.775 3.357-2.119 7.292-.963 10.896 18.112 56.566 36.618 117.657 47.077 156.181zm36.779-286.388h70.441c7.787 0 14.088-6.301 14.088-14.088v-42.265h112.706v42.265c0 7.787 6.301 14.088 14.088 14.088h70.441v91.011c-57.108-16.071-126.302-34.658-140.882-34.658s-83.775 18.587-140.882 34.658z"}),d=function(e){var t=e.svgRef,n=e.title,a=o(e,["svgRef","title"]);return r.a.createElement("svg",l({fill:"current",id:"Capa_1",enableBackground:"new 0 0 450.823 450.823",height:512,viewBox:"0 0 450.823 450.823",width:512,ref:t},a),n?r.a.createElement("title",null,n):null,u,s,m,f)},h=r.a.forwardRef((function(e,t){return r.a.createElement(d,l({svgRef:t},e))}));n.p;var p=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},r.a.createElement(h,{style:{width:45,height:45,backgroundColor:"fdcb9e",borderRadius:50,padding:5},fill:"#1b262c"}),r.a.createElement("h1",null,"battleship")))},v=n(1),g=(n(19),n(2)),b=n.n(g);var E=function(e){var t=function(e){var t=[{name:"Destroyer",length:2},{name:"Submarine",length:3},{name:"Cruiser",length:3},{name:"Battleship",length:4},{name:"Carrier",length:5}].filter((function(t){return t.name===b.a.capitalize(e)}))[0];return t.body=Array(t.length).fill(!1),t}(e),n=t.name,a=t.body,r=t.length,c="horizontal";function i(){return a.reduce((function(e,t){return e&&t}),!0)}return{getName:function(){return n},getLength:function(){return r},getBody:function(){return a},getOrientation:function(){return c},changeOrientation:function(){return c="horizontal"===c?"vertical":"horizontal"},randomizeOrientation:function(){var e=Math.floor(2*Math.random());return c=e?"vertical":"horizontal"},hit:function(e){return a[e]=!0,i()},isSunk:i}},O=n(5),y=n(8);var k=function(){var e,t,n,a=[],r=Array(10).fill(0).map((function(){return Array(10).fill(0).map((function(){return{isEmpty:!0,wasAttacked:!1}}))}));function c(e,t){var n=b.a.cloneDeep(r),c=Object(v.a)(t,2),l=c[0],o=c[1];if(i(t,e.getLength(),e.getOrientation())){a=[].concat(Object(y.a)(a),[e]);for(var u=0,s=0,m=0;m<e.getLength();m++)"vertical"===e.getOrientation()?u=m:s=m,n[l+u][o+s]={isEmpty:!1,wasAttacked:!1,shipName:e.getName(),shipIndex:a.length-1,shipBodyIndex:m};return r=b.a.cloneDeep(n),!0}return!1}function i(e,t,n){var a=Object(v.a)(e,2),c=a[0],i=a[1],l="vertical"===n;if(i+t>10&&!l)return!1;if(c+t>10&&l)return!1;for(var o=0,u=0,s=0;s<t;s++){if(l?o=s:u=s,!r[c+o][i+u].isEmpty)return!1}return!0}function l(e){var t,n,a,r=b.a.shuffle([0,1,2,3,4,5,6,7,8,9]),c=b.a.shuffle([0,1,2,3,4,5,6,7,8,9]),i=Object(O.a)(r);try{e:for(i.s();!(a=i.n()).done;){var l,o=a.value,u=Object(O.a)(c);try{for(u.s();!(l=u.n()).done;){var s=l.value;if(!e[o][s].wasAttacked){t=o,n=s;break e}}}catch(m){u.e(m)}finally{u.f()}}}catch(m){i.e(m)}finally{i.f()}return[t,n]}return{getBoard:function(){return r},getPlacedFleet:function(){return a},placeShip:c,placeShipAtRandom:function(e){for(var t,n=!1;!n;)n=i(t=l(r),e.getLength(),e.getOrientation());c(e,t)},getShipAt:function(e){var t=Object(v.a)(e,2),n=t[0],c=t[1],i=r[n][c];return a[i.shipIndex]},receiveAttack:function(c){var i,o;if(c){var u=Object(v.a)(c,2);i=u[0],o=u[1]}else if(n){var s=function(n){var a=e,r=Object(v.a)(a,2),c=r[0],i=r[1];switch(t){case"up":case"down":case"left":case"right":var l=Object(v.a)({up:[-1,0],down:[1,0],left:[0,-1],right:[0,1]}[t],2),o=l[0],u=l[1];if(c+o>=0&&c+o<10&&i+u>=0&&i+u<10&&!n[c+o][i+u].wasAttacked)return t=n[c+o][i+u].isEmpty?null:t,[c+o,i+u]}if(c+-1>=0&&!n[c+-1][i].wasAttacked)return t=n[c+-1][i].isEmpty?null:"up",[c+-1,i];if(c+1<10&&!n[c+1][i].wasAttacked)return t=n[c+1][i].isEmpty?null:"down",[c+1,i];if(i+-1>=0&&!n[c][i+-1].wasAttacked)return t=n[c][i+-1].isEmpty?null:"left",[c,i+-1];if(i+1<10&&!n[c][i+1].wasAttacked)return t=n[c][i+1].isEmpty?null:"right",[c,i+1];return!1}(r)||l(r),m=Object(v.a)(s,2);i=m[0],o=m[1]}else{var f=l(r),d=Object(v.a)(f,2);i=d[0],o=d[1]}var h=r[i][o];if(h.wasAttacked)return!1;if(h.wasAttacked=!0,!h.isEmpty){var p=a[h.shipIndex];p.hit(h.shipBodyIndex),e=p.isSunk()?null:[i,o],n=p.isSunk()?null:p}return!0},isGameOver:function(){return a.map((function(e){return e.isSunk()})).reduce((function(e,t){return e&&t}),!0)}}};var j=function(e){var t=e,n=k(),a=n.getBoard,r=n.getPlacedFleet,c=n.placeShip,i=n.placeShipAtRandom,l=n.getShipAt,o=n.receiveAttack,u=n.isGameOver,s=[E("Carrier"),E("Battleship"),E("Cruiser"),E("Submarine"),E("Destroyer")];return{name:t,attack:function(e,t){return e.receiveAttack(t)},receiveAttack:o,getBoard:a,getFleet:function(){return s},getPlacedFleet:r,placeShip:c,placeShipAtRandom:i,getShipAt:l,isGameOver:u,autoPlaceAll:function(){var e=this,t=this.getPlacedFleet();s.filter((function(e){return-1===t.indexOf(e)})).forEach((function(t){t.randomizeOrientation(),e.placeShipAtRandom(t)}))},getSimplifiedBoard:function(){return this.getBoard().map((function(e){return e.map((function(e){return e.wasAttacked&&e.isEmpty?".":e.wasAttacked&&!e.isEmpty?"*":!0===e.isEmpty?0:e.shipName}))}))}}};n(22),n(23);var S=function(e){var t=e.cellObj,n=e.onClick,a=e.position,c=e.showShips,i=t.isEmpty?"":"occupied",l=t.wasAttacked?"attacked":"",o=c?"show":"",u="";l&&(u=i?"close":"lens");var s="cell ".concat(i," ").concat(l," ").concat(o);return r.a.createElement("div",{className:s,onClick:function(){return n(a)}},r.a.createElement("p",null,u))};var w=function(e){var t=e.name,n=e.board,a=e.onClick,c=e.showShips,i=e.disableBoard;return r.a.createElement("div",{className:"board-container"},r.a.createElement("div",{className:"board-overlay ".concat(i?"":"hidden")}),r.a.createElement("div",{className:"gameboard"},n.map((function(e,t){return e.map((function(e,n){return r.a.createElement(S,{key:n,cellObj:e,onClick:a,position:[t,n],showShips:c})}))}))),r.a.createElement("div",{className:"board-footer"},r.a.createElement("h1",null,t)))};n(24),n(25);var A=function(e){var t=e.length,n=e.horizontalOrientation,a=e.onClick,c=e.isSelected,i=Array(t).fill(""),l={display:"grid",gridTemplateColumns:"repeat(".concat(t,", 34px)"),height:34,gap:2,marginBottom:20,opacity:c?.4:1},o={display:"grid",gridTemplateRows:"repeat(".concat(t,", 34px)"),width:34,gap:2,marginLeft:20,opacity:c?.4:1};return r.a.createElement("div",{style:n?l:o,className:"ship-component",onClick:a},i.map((function(e,t){return r.a.createElement(S,{key:t,cellObj:{isEmpty:!1,wasAttacked:!1},onClick:function(){},showShips:!0})})))};var N=function(e){var t=e.shipsToLoad,n=e.shipsLoaded,c=e.prepareManualPlace,i=e.handleAutoPlace,l=e.handleResetPlacement,o=e.handleHarbourRotation,u=Object(a.useState)(!0),s=Object(v.a)(u,2),m=s[0],f=s[1],d=Object(a.useState)({flexDirection:"column"}),h=Object(v.a)(d,2),p=h[0],g=h[1],b=Object(a.useState)(!1),E=Object(v.a)(b,2),O=E[0],y=E[1];return r.a.createElement("div",{className:"harbour-container"},r.a.createElement("div",{style:p,className:"ships"},t.map((function(e,t){return r.a.createElement(A,{key:t,horizontalOrientation:m,length:e.getLength(),onClick:function(){return function(e){n.indexOf(e)>-1||(y(O!==e&&e),c(e))}(e)},isSelected:O===e||n.indexOf(e)>-1})}))),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:function(){f(!m),g(m?{}:{flexDirection:"column"}),o()}},"rotate"),r.a.createElement("button",{onClick:i},"auto place"),r.a.createElement("button",{onClick:l},"reset")))};n(26);var C=function(e){var t=e.shipsLoaded;return r.a.createElement("div",{className:"scoreboard-container"},r.a.createElement("div",{className:"scoreboard-ships"},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"scoreboard-ship"},r.a.createElement("h1",null,e.getName()),r.a.createElement("div",{className:"ship-overlay ".concat(e.isSunk()?"":"hidden")}),r.a.createElement(A,{horizontalOrientation:!0,length:e.getLength(),onClick:function(){},isSelected:!1}))}))))};n(27);var B=function(e){return r.a.createElement("div",{className:"scroller"},r.a.createElement("p",null,"Welcome to Battleship!"),r.a.createElement("br",null),r.a.createElement("p",null,"To start playing, position your fleet by clicking in one of the ships in the left side, then clicking on the desired position on the grid (or try auto-place!)."))};var P=function(){var e=Object(a.useState)(j("Player")),t=Object(v.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(j("Computer")),l=Object(v.a)(i,2),o=l[0],u=l[1],s=Object(a.useState)(),m=Object(v.a)(s,2),f=m[0],d=m[1],h=Object(a.useState)(!1),p=Object(v.a)(h,2),g=p[0],b=p[1],E=Object(a.useState)(!1),O=Object(v.a)(E,2),y=O[0],k=O[1],S=Object(a.useState)(!1),A=Object(v.a)(S,2),P=A[0],x=A[1],R=Object(a.useState)(!0),L=Object(v.a)(R,2),z=L[0],F=L[1];function I(e){if(!0===e.isGameOver())k(!0),alert("Game over - ".concat(e===n?o.name:n.name," won!"));else{var t=e.name===n.name?o.name:n.name;d(t)}}function D(){c(j(n.name)),u(j(o.name)),k(!1),b(!1),F(!z)}return Object(a.useEffect)((function(){f===o.name&&!1===y&&setTimeout((function(){return n.receiveAttack(),c(n),void I(o)}),1e3)}),[f]),r.a.createElement("div",{className:"game-container"},r.a.createElement("div",{className:"game-header"},r.a.createElement(B,null)),r.a.createElement("div",{className:"game-wrapper"},g?r.a.createElement(C,{shipsLoaded:n.getFleet()}):r.a.createElement(N,{shipsToLoad:n.getFleet(),shipsLoaded:n.getPlacedFleet(),prepareManualPlace:function(e){x(!P&&e)},handleAutoPlace:function(){n.autoPlaceAll(),c(n),F(!z)},handleResetPlacement:D,handleHarbourRotation:function(){n.getFleet().map((function(e){return e.changeOrientation()}))}}),r.a.createElement(w,{name:n.name,board:n.getBoard(),onClick:function(e){P&&n.placeShip(P,e)&&x(!1)},showShips:!0,disableBoard:!!g&&f===n.name}),r.a.createElement(w,{name:o.name,board:o.getBoard(),onClick:function(e){f===n.name&&o.receiveAttack(e)&&(u(o),I(n))},showShips:!!y,disableBoard:!g||f===o.name}),r.a.createElement(C,{shipsLoaded:o.getFleet()})),r.a.createElement("div",{className:"game-footer"},r.a.createElement("button",{onClick:function(){g?D():n.getFleet().length===n.getPlacedFleet().length&&(b(!0),o.autoPlaceAll(),u(o),d(n.name),k(!1))}},g?"Restart":"Start")))};var x=function(){return r.a.createElement("div",{id:"page-home"},r.a.createElement("div",{className:"content"},r.a.createElement(p,null),r.a.createElement(P,null)))};i.a.render(r.a.createElement(x,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.f1a667a7.chunk.js.map