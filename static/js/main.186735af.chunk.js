(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,function(e,t,n){var a=n(21),r=n(25);e.exports=function(e){var t=e,n=a(),c=n.getBoard,i=n.getPlacedFleet,o=n.placeShip,l=n.placeShipAtRandom,u=n.getShipAt,s=n.receiveAttack,m=n.isGameOver,f=[r("Carrier"),r("Battleship"),r("Cruiser"),r("Submarine"),r("Destroyer")];return{name:t,attack:function(e,t){return e.receiveAttack(t)},receiveAttack:s,getBoard:c,getFleet:function(){return f},getPlacedFleet:i,placeShip:o,placeShipAtRandom:l,getShipAt:u,isGameOver:m,autoPlaceAll:function(){var e=this,t=this.getPlacedFleet();f.filter((function(e){return-1===t.indexOf(e)})).forEach((function(t){t.randomizeOrientation(),e.placeShipAtRandom(t)}))},getSimplifiedBoard:function(){return this.getBoard().map((function(e){return e.map((function(e){return e.wasAttacked&&e.isEmpty?".":e.wasAttacked&&!e.isEmpty?"*":!0===e.isEmpty?0:e.shipName}))}))}}}},,,,,,function(e,t,n){e.exports=n(32)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),function(e){var t=n(5),a=n(9),r=n(1),c=n(7);e.exports=function(){var e=[],n=Array(10).fill(0).map((function(){return Array(10).fill(0).map((function(){return{isEmpty:!0,wasAttacked:!1}}))}));function i(t,i){var l=c.cloneDeep(n),u=Object(r.a)(i,2),s=u[0],m=u[1];if(o(i,t.getLength(),t.getOrientation())){e=[].concat(Object(a.a)(e),[t]);for(var f=0,d=0,h=0;h<t.getLength();h++)"vertical"===t.getOrientation()?f=h:d=h,l[s+f][m+d]={isEmpty:!1,wasAttacked:!1,shipName:t.getName(),shipIndex:e.length-1,shipBodyIndex:h};return n=c.cloneDeep(l),!0}return!1}function o(e,t,a){var c=Object(r.a)(e,2),i=c[0],o=c[1],l="vertical"===a;if(o+t>10&&!l)return!1;if(i+t>10&&l)return!1;for(var u=0,s=0,m=0;m<t;m++){if(l?u=m:s=m,!n[i+u][o+s].isEmpty)return!1}return!0}function l(e){var n,a,r,i=c.shuffle([0,1,2,3,4,5,6,7,8,9]),o=c.shuffle([0,1,2,3,4,5,6,7,8,9]),l=Object(t.a)(i);try{e:for(l.s();!(r=l.n()).done;){var u,s=r.value,m=Object(t.a)(o);try{for(m.s();!(u=m.n()).done;){var f=u.value;if(!e[s][f].wasAttacked){n=s,a=f;break e}}}catch(d){m.e(d)}finally{m.f()}}}catch(d){l.e(d)}finally{l.f()}return[n,a]}return{getBoard:function(){return n},getPlacedFleet:function(){return e},placeShip:i,placeShipAtRandom:function(e){for(var t,a=!1;!a;)a=o(t=l(n),e.getLength(),e.getOrientation());i(e,t)},getShipAt:function(t){var a=Object(r.a)(t,2),c=a[0],i=a[1],o=n[c][i];return e[o.shipIndex]},receiveAttack:function(t){var a=t||l(n),c=Object(r.a)(a,2),i=c[0],o=c[1],u=n[i][o];return!u.wasAttacked&&(u.wasAttacked=!0,u.isEmpty||e[u.shipIndex].hit(u.shipBodyIndex),!0)},isGameOver:function(){return e.map((function(e){return e.isSunk()})).reduce((function(e,t){return e&&t}),!0)}}}}.call(this,n(22)(e))},,,,function(e,t,n){var a=n(7);e.exports=function(e){var t=function(e){var t=[{name:"Destroyer",length:2},{name:"Submarine",length:3},{name:"Cruiser",length:3},{name:"Battleship",length:4},{name:"Carrier",length:5}].filter((function(t){return t.name===a.capitalize(e)}))[0];return t.body=Array(t.length).fill(!1),t}(e),n=t.name,r=t.body,c=t.length,i="horizontal";function o(){return r.reduce((function(e,t){return e&&t}),!0)}return{getName:function(){return n},getLength:function(){return c},getBody:function(){return r},getOrientation:function(){return i},changeOrientation:function(){return i="horizontal"===i?"vertical":"horizontal"},randomizeOrientation:function(){var e=Math.floor(2*Math.random());return i=e?"vertical":"horizontal"},hit:function(e){return r[e]=!0,o()},isSunk:o}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),i=n.n(c);n(15),n(16),n(17),n(18),n(19);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createElement("path",{id:"path-1_42_",d:"m148.781 261.84c8.253 11.004 8.253 28.844 0 39.847-8.253 11.004-21.633 11.004-29.886 0s-8.253-28.844 0-39.847 21.634-11.003 29.886 0",transform:"translate(3.927 8.902)"}),s=r.a.createElement("path",{id:"path-1_41_",d:"m331.929 261.84c8.253 11.004 8.253 28.844 0 39.847-8.253 11.004-21.633 11.004-29.886 0s-8.253-28.844 0-39.847 21.633-11.003 29.886 0",transform:"translate(10.427 8.902)"}),m=r.a.createElement("path",{d:"m436.735 394.47c-29.951 0-45.649 8.365-59.49 15.739-12.534 6.673-23.347 12.437-46.268 12.437s-33.735-5.765-46.241-12.437c-13.854-7.374-29.552-15.739-59.504-15.739-29.924 0-45.594 8.365-59.421 15.753-12.492 6.659-23.292 12.423-46.172 12.423-22.866 0-33.652-5.765-46.145-12.423-13.827-7.388-29.497-15.753-59.407-15.753-7.786 0-14.087 6.301-14.087 14.088s6.301 14.088 14.088 14.088c22.866 0 33.652 5.765 46.145 12.424 13.827 7.388 29.497 15.753 59.407 15.753 29.924 0 45.608-8.365 59.435-15.753 12.492-6.659 23.292-12.424 46.158-12.424 22.921 0 33.721 5.765 46.241 12.437 13.854 7.374 29.552 15.739 59.504 15.739 29.965 0 45.663-8.365 59.517-15.739 12.52-6.673 23.32-12.437 46.241-12.437 7.787 0 14.088-6.301 14.088-14.088s-6.302-14.088-14.089-14.088z"}),f=r.a.createElement("path",{d:"m47.751 370.917c10.289 3.078 18.377 7.194 25.745 11.13 2.36 1.257 4.669 2.428 6.999 3.589-10.086-42.932-36.6-127.883-48.604-165.714 76.77-22.316 180.134-50.795 193.52-50.864 13.387.069 116.751 28.548 193.52 50.864-11.997 37.811-38.492 122.692-48.588 165.645 2.296-1.145 4.575-2.296 6.901-3.534 7.386-3.935 15.502-8.054 25.831-11.13 10.46-38.528 28.962-99.608 47.073-156.167 1.156-3.605.812-7.539-.963-10.896-1.789-3.357-4.843-5.847-8.489-6.92-8.453-2.48-26.046-7.612-47.594-13.772h1.367v-112.706c0-7.787-6.301-14.088-14.088-14.088h-70.441v-42.265c0-7.787-6.301-14.088-14.088-14.088h-140.882c-7.787 0-14.088 6.301-14.088 14.088v42.265h-70.441c-7.787 0-14.088 6.301-14.088 14.088v112.706h1.367c-21.549 6.16-39.142 11.292-47.594 13.772-3.646 1.073-6.7 3.563-8.489 6.92-1.775 3.357-2.119 7.292-.963 10.896 18.112 56.566 36.618 117.657 47.077 156.181zm36.779-286.388h70.441c7.787 0 14.088-6.301 14.088-14.088v-42.265h112.706v42.265c0 7.787 6.301 14.088 14.088 14.088h70.441v91.011c-57.108-16.071-126.302-34.658-140.882-34.658s-83.775 18.587-140.882 34.658z"}),d=function(e){var t=e.svgRef,n=e.title,a=l(e,["svgRef","title"]);return r.a.createElement("svg",o({fill:"current",id:"Capa_1",enableBackground:"new 0 0 450.823 450.823",height:512,viewBox:"0 0 450.823 450.823",width:512,ref:t},a),n?r.a.createElement("title",null,n):null,u,s,m,f)},h=r.a.forwardRef((function(e,t){return r.a.createElement(d,o({svgRef:t},e))}));n.p;var p=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},r.a.createElement(h,{style:{width:45,height:45,backgroundColor:"fdcb9e",borderRadius:50,padding:5},fill:"#1b262c"}),r.a.createElement("h1",null,"battleship")))},v=n(1),g=(n(20),n(4));n(26),n(27);var b=function(e){var t=e.cellObj,n=e.onClick,a=e.position,c=e.showShips,i=t.isEmpty?"":"occupied",o=t.wasAttacked?"attacked":"",l=c?"show":"",u="";o&&(u=i?"close":"lens");var s="cell ".concat(i," ").concat(o," ").concat(l);return r.a.createElement("div",{className:s,onClick:function(){return n(a)}},r.a.createElement("p",null,u))};var E=function(e){var t=e.name,n=e.board,a=e.onClick,c=e.showShips,i=e.disableBoard;return r.a.createElement("div",{className:"board-container"},r.a.createElement("div",{className:"board-overlay ".concat(i?"":"hidden")}),r.a.createElement("div",{className:"gameboard"},n.map((function(e,t){return e.map((function(e,n){return r.a.createElement(b,{key:n,cellObj:e,onClick:a,position:[t,n],showShips:c})}))}))),r.a.createElement("div",{className:"board-footer"},r.a.createElement("h1",null,t)))};n(28),n(29);var O=function(e){var t=e.length,n=e.horizontalOrientation,a=e.onClick,c=e.isSelected,i=Array(t).fill(""),o={display:"grid",gridTemplateColumns:"repeat(".concat(t,", 34px)"),height:34,gap:2,marginBottom:20,opacity:c?.4:1},l={display:"grid",gridTemplateRows:"repeat(".concat(t,", 34px)"),width:34,gap:2,marginLeft:20,opacity:c?.4:1};return r.a.createElement("div",{style:n?o:l,className:"ship-component",onClick:a},i.map((function(e,t){return r.a.createElement(b,{key:t,cellObj:{isEmpty:!1,wasAttacked:!1},onClick:function(){},showShips:!0})})))};var y=function(e){var t=e.shipsToLoad,n=e.shipsLoaded,c=e.prepareManualPlace,i=e.handleAutoPlace,o=e.handleResetPlacement,l=e.handleHarbourRotation,u=Object(a.useState)(!0),s=Object(v.a)(u,2),m=s[0],f=s[1],d=Object(a.useState)({flexDirection:"column"}),h=Object(v.a)(d,2),p=h[0],g=h[1],b=Object(a.useState)(!1),E=Object(v.a)(b,2),y=E[0],k=E[1];return r.a.createElement("div",{className:"harbour-container"},r.a.createElement("div",{style:p,className:"ships"},t.map((function(e,t){return r.a.createElement(O,{key:t,horizontalOrientation:m,length:e.getLength(),onClick:function(){return function(e){n.indexOf(e)>-1||(k(y!==e&&e),c(e))}(e)},isSelected:y===e||n.indexOf(e)>-1})}))),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:function(){f(!m),g(m?{}:{flexDirection:"column"}),l()}},"rotate"),r.a.createElement("button",{onClick:i},"auto place"),r.a.createElement("button",{onClick:o},"reset")))};n(30);var k=function(e){var t=e.shipsLoaded;return r.a.createElement("div",{className:"scoreboard-container"},r.a.createElement("div",{className:"scoreboard-ships"},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"scoreboard-ship"},r.a.createElement("h1",null,e.getName()),r.a.createElement("div",{className:"ship-overlay ".concat(e.isSunk()?"":"hidden")}),r.a.createElement(O,{horizontalOrientation:!0,length:e.getLength(),onClick:function(){},isSelected:!1}))}))))};n(31);var S=function(e){return r.a.createElement("div",{className:"scroller"},r.a.createElement("p",null,"Welcome to Battleship!"),r.a.createElement("br",null),r.a.createElement("p",null,"To start playing, position your fleet by clicking in one of the ships in the left side, then clicking on the desired position on the grid (or try auto-place!)."))};var j=function(){var e=Object(a.useState)(g("Player")),t=Object(v.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(g("Computer")),o=Object(v.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)(),m=Object(v.a)(s,2),f=m[0],d=m[1],h=Object(a.useState)(!1),p=Object(v.a)(h,2),b=p[0],O=p[1],j=Object(a.useState)(!1),A=Object(v.a)(j,2),w=A[0],N=A[1],C=Object(a.useState)(!1),B=Object(v.a)(C,2),x=B[0],P=B[1],R=Object(a.useState)(!0),L=Object(v.a)(R,2),z=L[0],F=L[1];function I(e){if(!0===e.isGameOver())N(!0),alert("Game over - ".concat(e===n?l.name:n.name," won!"));else{var t=e.name===n.name?l.name:n.name;d(t)}}function D(){c(g(n.name)),u(g(l.name)),N(!1),O(!1),F(!z)}return Object(a.useEffect)((function(){f===l.name&&!1===w&&setTimeout((function(){return n.receiveAttack(),c(n),void I(l)}),1e3)}),[f]),r.a.createElement("div",{className:"game-container"},r.a.createElement("div",{className:"game-header"},r.a.createElement(S,null)),r.a.createElement("div",{className:"game-wrapper"},b?r.a.createElement(k,{shipsLoaded:n.getFleet()}):r.a.createElement(y,{shipsToLoad:n.getFleet(),shipsLoaded:n.getPlacedFleet(),prepareManualPlace:function(e){P(!x&&e)},handleAutoPlace:function(){n.autoPlaceAll(),c(n),F(!z)},handleResetPlacement:D,handleHarbourRotation:function(){n.getFleet().map((function(e){return e.changeOrientation()}))}}),r.a.createElement(E,{name:n.name,board:n.getBoard(),onClick:function(e){x&&n.placeShip(x,e)&&P(!1)},showShips:!0,disableBoard:!!b&&f===n.name}),r.a.createElement(E,{name:l.name,board:l.getBoard(),onClick:function(e){f===n.name&&l.receiveAttack(e)&&(u(l),I(n))},showShips:!!w,disableBoard:!b||f===l.name}),r.a.createElement(k,{shipsLoaded:l.getFleet()})),r.a.createElement("div",{className:"game-footer"},r.a.createElement("button",{onClick:function(){b?D():n.getFleet().length===n.getPlacedFleet().length&&(O(!0),l.autoPlaceAll(),u(l),d(n.name),N(!1))}},b?"Restart":"Start")))};var A=function(){return r.a.createElement("div",{id:"page-home"},r.a.createElement("div",{className:"content"},r.a.createElement(p,null),r.a.createElement(j,null)))};i.a.render(r.a.createElement(A,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.186735af.chunk.js.map